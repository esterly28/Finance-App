<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="Style/Style1.css">
  <link rel="stylesheet" href="Style/Style2.css">
  <script>
    window.addEventListener("load", readAll);
    function readAll() {
      fetch("/retrieve")
        .then(response => response.json())
        .then(data => {
          const updateList = document.getElementById("updateList");
          data.forEach(row => {
            updateList.innerHTML += `
              <div class="card">
                <a href="update-one.html?id=${row._id}">
                  <h2>Update Entry</h2>
                </a>
                Name: ${row.provider}<br>
                Age/Years: ${row.timeToPayOff}<br>
                Comment/Note: ${row.interest}
              </div>
            `;
          });
        })
        .catch(err => {
          console.error("Error loading records:", err);
          document.getElementById("updateList").innerText = "Could not load data.";
        });
    }
  </script>
</head>
<body>
  <h1>Update a Record</h1>
  <div id="updateList">Loading...</div>
  <a href="index.html">Cancel and Return to Home</a>
</body>
</html>
